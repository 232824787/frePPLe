# file : $URL$
# revision : $LastChangedRevision$  $LastChangedBy$
# date : $LastChangedDate$
# email : jdetaeye@users.sourceforge.net

#
# These are the extra settings to add to your apache httpd.conf configuration
# file for deploying frePPLe as a django application.
# See the Django website http://www.djangoproject.com/documentation/modpython/
# for more information.
#

#
# !!! IMPORTANT !!!
# YOU WILL NEED TO UPDATE THIS FILE MANUALLY TO MATCH YOUR ENVIRONMENT.
# Different linux distributions use slightly different ways of configuring the
# apache web server.
# Also, the configuration below should be seen as a guideline / sample only.
# Your needs and/or practices may justify a different setup.
#

#
# !!! IMPORTANT !!!
# USE THE APACHE NON-THREADED, PRE-FORKING WORKER MODULE.
#

# Load the following apache modules, if not loaded already.
#LoadModule deflate_module modules/mod_deflate.so
#LoadModule headers_module modules/mod_headers.so
#LoadModule mime_module modules/mod_mime.so
#LoadModule python_module modules/mod_python.so

## This section is used when you want to use HTTPS encrypted communication.
## Do NOT simply enable the statements below without understanding what they
## exactly mean. Review them carefully and modify according to your needs... 
#   LoadModule ssl_module modules/mod_ssl.so
#   SSLEngine on
#   SSLOptions +StrictRequire
#   SSLProtocol all -SSLv2
#   SSLCipherSuite ALL:!ADH:!EXPORT:!SSLv2:RC4+RSA:+HIGH:+MEDIUM:+LOW
#   SSLMutex default
#   SSLRandomSeed startup builtin
#   SSLRandomSeed connect builtin
#   SSLSessionCache shm:/home/frepple/workspace/frepple/contrib/django/ssl_cache
#   SSLSessionCacheTimeout 600
#   SSLPassPhraseDialog builtin
#   # Update the next two lines to point to your server certificate and private key.
#   # You can create a key pair with e.g. a statement like:
#   #     openssl req -new -x509 -nodes -days 3650 -keyout frepple.key -out frepple.crt
#   SSLCertificateFile /home/frepple/workspace/frepple/contrib/django/frepple.crt
#   SSLCertificateKeyFile /home/frepple/workspace/frepple/contrib/django/frepple.key
#   SSLVerifyClient none
#   SSLCryptoDevice builtin
#   SSLProxyEngine off

AddDefaultCharset utf-8

SetEnv FREPPLE_HOME /home/frepple/workspace/frepple/bin

<Location "/">
    ## Uncomment the next line to use HTTPS encrypted communication.
    # SSLRequireSSL
    SetHandler python-program
    PythonHandler django.core.handlers.modpython
    # Ensuring a utf-8 compatible locale is used.
    SetEnv LC_ALL en_US.UTF-8
    # Pointing to the django configuration
    SetEnv DJANGO_SETTINGS_MODULE freppledb.settings
    PythonPath "['', '/home/frepple/workspace/frepple/contrib/django/', '/usr/lib/python25.zip', '/usr/lib/python2.5', '/usr/lib/python2.5/plat-linux2', '/usr/lib/python2.5/lib-tk', '/usr/lib/python2.5/lib-dynload', '/usr/lib/python2.5/site-packages', '/usr/lib/python2.5/site-packages/Numeric', '/usr/lib/python2.5/site-packages/dbus', '/usr/lib/python2.5/site-packages/gtk-2.0']"
    #PythonPath "[r'/home/frepple/workspace/frepple/contrib/django/'] + sys.path"
    PythonInterpreter freppledb
    # For best performance on a production server
    PythonAutoReload Off
    PythonDebug Off
    # Compress the data. This setting is optional but highly recommended.
    # The compression drastically reduces the network traffic for the request.
    # A compression ratio of 10 is typically achieved.
    SetOutputFilter DEFLATE
</Location>

<Location "/media">
    SetHandler None
    # Cache all these static files in the client browser
    Header append Cache-Control max-age=10800
</Location>

<LocationMatch "\.(jpg|gif|png)$">
    SetHandler None
    # Cache all these static files in the client browser
    Header append Cache-Control max-age=10800
    # Note: No compression enabled since these data formats have some compressed format by default
</LocationMatch>

<Location "/static">
    SetHandler None
    # Cache all these static files in the client browser
    Header append Cache-Control max-age=10800
    Options -Indexes
</Location>
