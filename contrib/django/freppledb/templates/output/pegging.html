{% extends "admin/base_site_grid.html" %}
{% load i18n %}

{% block contextmenus %}
{% include "operationcontext.html" %}
{% include "itemcontext.html" %}
{% include "buffercontext.html" %}
{% include "demandcontext.html" %}
{% include "resourcecontext.html" %}
{% endblock %}

{% block extrahead %}{{block.super}}
<script type="text/javascript" src="{{STATIC_URL}}FusionCharts.js"></script>
<script type="text/javascript">

function reslistfmt(cellvalue, options, row)
{
  if (cellvalue === undefined || cellvalue ==='') return ''; 
  return cellvalue + "<span class='context ui-icon ui-icon-triangle-1-e' role='resource'></span>";
}

</script>
{% endblock %}

{% block tools %}
{% include "demandtabs.html" %}
{% endblock %}

{% block before_table %}
<div id="chart1div" style="z-index: 1000;">
	  <p>&nbsp;</p>
	  <p>{% blocktrans %}frePPLe needs Adobe Flash Player to display graphs. If you're unable to see 
	  the chart here, it means that your browser does not seem to have the Flash Player 
	  installed.<br/>
	  You can downloaded it <a href="http://www.adobe.com/products/flashplayer/" target="_blank"><u>here</u></a> for free.{% endblocktrans %}</p>
	</div>
	<script language="javascript" type="text/javascript">
	   var chart1 = new FusionCharts("{{STATIC_URL}}FCF_Gantt.swf", "chart1", $(window).width()-35, 350);
	   chart1.setTransparent();
	   chart1.setDataURL(escape("{{request.prefix}}/pegginggraph/{{args.0|urlencode}}/"));
	   chart1.render("chart1div");
	</script>
{% endblock %}

{% comment %} TODO
{% for i in objectlist1 %}<tr class="{% cycle row1,row2 %}">
<td>{{i.depth}}</td>
<td>{% if i.hidden %}{{i.operation}}{% else %}{% superlink i.operation operation %}{% endif %}</td>
<td>{% superlink i.buffer buffer %}</td>
<td>{% superlink i.item item %}</td>
<td>{% for j in i.resource %}{% superlink j resource %}<br/>{% endfor %}</td>
<td>{{i.startdate}}</td>
<td>{{i.enddate}}</td>
<td>{{i.quantity}}</td>
<td>{{i.percent_used|floatformat:1}}</td>
</tr>{% endfor %}
{% endcomment %}
