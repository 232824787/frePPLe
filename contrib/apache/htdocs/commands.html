<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--

 Copyright (C) 2007 by Johan De Taeye

 This library is free software; you can redistribute it and/or modify it
 under the terms of the GNU Lesser General Public License as published
 by the Free Software Foundation; either version 2.1 of the License, or
 (at your option) any later version.

 This library is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser
 General Public License for more details.

 You should have received a copy of the GNU Lesser General Public
 License along with this library; if not, write to the Free Software
 Foundation Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA

 file : $HeadURL$
 revision : $LastChangedRevision$  $LastChangedBy$
 date : $LastChangedDate$
 email : jdetaeye@users.sourceforge.net

-->
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html">
 <title>Frepple menu</title>
 <link href="/styles.css" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="../filter.js"></script>
  <script type="text/javascript" language="JavaScript">

  // Escape some funky characters to make sure it displays well as html
  function toHTML(s)
  {
    return s.replace(/&/g, "&amp;")
	  .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;");
  }

  // Upload data to the remote server
  function upload(data)
  {
    var xmlhttp = createXMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
      if (xmlhttp.readyState==4)
        top.data.document.getElementById("content").innerHTML +=
          "<p>" + (new Date().toLocaleString()) + ": Finished upload: " + xmlhttp.responseText + "</p>";
    }
    xmlhttp.open("POST", "/upload/ui", true);
    xmlhttp.setRequestHeader("Content-Type","text/plain");
    xmlhttp.send(data);
    top.data.document.getElementById("content").innerHTML +=
      "<p>" + (new Date().toLocaleString()) + ": Start uploading data: " + toHTML(data) + "</p>";
    return false;
  }
  </script>
  </head>
<body>
<h2>Local Commands</h2>
Edit or paste your XML data (max 64k), then press 'Execute'...
<form name="local"  onsubmit="return false;">
<textarea name="command" cols="60" rows="7">
<?xml version="1.0" encoding="UTF-8"?>
<PLAN xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<ITEMS>
<ITEM NAME="RM1" ACTION="DELETE"/>
<ITEM NAME="RM87"/>
</ITEMS>
</PLAN>
</textarea><br/>
<input type="button" onclick="return upload(document.local.command.value);" value="Execute"/>
<input type="reset" value="Reset"/>
</form>
</body>
</html>
