<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html">
<title>Architecture</title>
<link href="styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<H1>Architecture</H1>
<p>The Frepple binaries are a collection of shared libraries: a core
library frepple.so (frepple.dll on windows) and an additional shared library
for each extension module.</p>
<p>The Frepple shared library can be used in different ways by applications.
Below is a list of the most common ways to deploy Frepple (but additional
scenarios are definately feasible):</p>

<table>
<colgroup><col width="100%"/><col width="400"/></colgroup>

<th colspan="2"><h2>Command line application</h2></th>
<tr><td valign="top">
<p></p>
</td>
<td><img src="deployment.jpg" alt="Deployment diagram" width="400"></td></tr>

<th colspan="2"><h2>Command line application</h2></th>
<tr><td valign="top">
<p></p>
</td>
<td><img src="deployment.jpg" alt="Deployment diagram" width="400"></td></tr>


</table>



<center><img src="deployment.jpg" alt="Deployment diagram"></center>

<H2>Standalone application</H2>
<p>A simple command-line application is available. All you need to use it is
a set of XML flat files that you feed to the application:</p>
<p dir="ltr" style="margin-left: 20px; margin-right: 0px">frepple file1.xml<br>
frepple file2.xml file3.xml<br>
frepple dir_with_xml_files<br>
command | frepple</p>
<p>The application will execute all commands defined in the xml-files and then
exit. The program returns an exit code reflecting any processing errors.</p>
<p>Use the option "-help" or "-?" to get a list of possible flags that can be
passed on the command line.</p>

<H2>C++ library</H2>
<p>Your application framework can be link with the Frepple shared library.
Use the header file plannerinterface.h for the high-level interface
declarations. Use header file frepple.h when you need low-level access
to the framework for building extensions.</p>

<H2>Access from java and scripting languages</H2>
<p>The frepple functionality can be accessed from scripting
languages such as Perl, Python, Ruby, etc... The scripting language will
dynamically load frepple as a shared library. Using the SWIG tool examples
for perl, java and python are provided.<br>
When building clients in this way, remember that the scripting language
will load the frepple shared library and all memory allocated by frepple
(which can be a lot for large models!) will be owned by the scripting language
process. For large models this may not be a very appropriate integration
method.</p>

<H2>Apache module</H2>
<p>A prototype user interface is available where Frepple is running as a module
in an Apache web server. The module generates XML content that is rendered
in a web browser application which is based on AJAX principles.<br>
Given the large amount of data maintained by Frepple in memory, this is a
pretty unorthodox usage of Apache. Frepple will need its own, dedicated Apache
instance to live in.</p>

<H2>Webservice, Corba server object, ...</H2>
<p>More alternatives exist to access the Frepple functionality.</p>

<H2>Scripting with embedded Python interpreter</H2>
<p>Rather than letting your application access the Frepple framework, a
different approach would be to customize and script your application in
Frepple itself.<br>
Frepple includes an embbedded Python interpreter that allows easy and
flexible building of custom logic.</p>
</body>
</html>